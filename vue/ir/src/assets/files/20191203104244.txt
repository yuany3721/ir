现代计算机
云环境下绿色计算技术及发展趋势
丘晓平
摘要：介绍绿色云模型的技术内涵、并从绿色云计算的建模、评价、能耗控制、网络环境、计算机系统结构、虚拟化技术以及新能源应用等六个方面阐述绿色云计算最新发展动态以及今后若干值得关注的趋向。
关键词：云计算；绿色计算；能耗控制；虚拟化技术
零、引言
云计算是一种按需而用，随需而变，快速部署，瞬时释放的服务方式。通过网络有效地聚合被虚拟化的计算机资源，基于数据中心为单一或多用户提供动态、高性能比、弹性规模扩展的查询、存储和各类信息服务。
云计算作为环保、绿色标志，一方面仅需要最少的管理，最少的沟通，而实现对服务的快速获取触手可及的信息。而另一方面，云数据中心的能耗是极其惊人的。如Google云数据中心每年消耗电能为1亿千瓦，在数据中心的运营成本中，能耗占了40%，到了2020年仅世界范围内的数据中心耗电将超过1万亿度，占全球总耗电量的1%，云计算的高能耗，对能耗与环境的影响越来越突出。我国政府在2015年9月的联大会议上庄严承诺，到2020年，我国将实现40%-45%节能减排目标。信息产业作为我国第五大高能耗的产业，将为建设低碳与构件绿色社会承担重大责任。因而在云计算中，进行有效的能效管理，并同时满足服务质量QoS（QualityofService）和绿色两者高标准，是当务之急。近年来，国内外学者提出了绿色云计算技术，并已取得了一系列重要的研究和应用成果。
以下将给出绿色云计算的内涵，以及近年来国内外在云环境下绿色计算所采用的主要技术和今后发展的趋向。
一、绿色云计算的内涵
绿色云计算，实际上就是云计算加绿色计算的概念，并结合人、环境以及IT产品的完整性的生命周期，包括IT产品、绿色设计、绿色制造与调试、绿色应用、绿色服务与回收等一系列的系统工程。
定义1绿色云计算（GreenCloudComputing）
在云计算模式中，一种以环境为中心，在低碳目标的指引下，旨在构建成低能耗、节约、环保的计算机系统，其本质是要实现云计算的可持续发展，最大限度地减少云系统对环境的影响，最大限度地提高计算机资源的使用效率，实现对能量消耗的最小化，最终实现人、环境和效益间的利益均衡。对绿色云模型建模，需综合考虑云模型、绿色计算环境空间、用户需求及事务处理等诸多因素。绿色云模型可分成用户、数据中心、绿色服务空间、虚拟空间、绿色计算变换、绿色综合计算结果等六元组。
定义2绿色云模型（GreenCloudModel）
绿色云模型可以定义为六元组，即：GCM=（U，D，GSS，VS，GCT，RGC）其中，U为用户集，U={u1，u2，…，un}，由个用户组成，D={d1，d2，…，dn}，由个数据中心组成，第j个数据中心dj={sdj1，sdj2，…，sdjm}，而sdjk（1≤k≤m）表示第j个数据中心中的第k个服务器。GSS为综合绿色服务空间，包括低碳、高效能、环保、节约以及应用服务等绿色机制。
VS为虚拟空间，数据中心根据需求创建多个不同的虚拟机，灵活地调动虚拟机的创建、挂起、迁移和终止的状态周期。每个虚拟机可分别接受不同的任务，而多个虚拟机可以并行地工作，高效地权衡绿色服务与服务目标的关联。GCT为绿色计算变换，实现以上绿色服务目标的优化算法集。RGC为基于绿色云平台的绿色计算结果输出。
对云模型“绿色”性能的评价，需要有量化标准，以衡量云模型的“绿化”程度。在能效评价标准，有美国EPEAT（ElectronicProductEnvironmentalAssessmentTool）的绿色计算标准，其采用了多个等级，对计算机以及相关电子设备的环保性能进行了综合评价。而对绿色云模型尚未有评价标准。以下给出评价绿色云模型“绿色”程度定义。
定义3绿色云模型的绿色度
绿色云模型的绿色度可定义成模型的绿色性能集V到一维向量M{m1，m2，…，mk}的映射，即：F（V）→M。其中，F为映射，V为绿色云服务空间n个性能指标空间，V={v0，v1，…，vn-1}，其中vi（0≤i≤n-1）是一个时间t的变量，即vi=（vi1，vi2，…，vik）-1，其中vij∈vi（1≤j≤k），vij∈[0，1]，表示vi在k个不同时间点上绿色性能指标值。即云模型的“绿度”可表为：GCMD=F（V）=W1×n莓Vn×k-1=M1×k其中W为多维性能指标权重向量，W={w0，w1，…，wn-1}，wi∈[0，1]，且n-1i=0Σwi=1。其中绿色服务空间性能可取[定义2]绿色模型中的GSS（综合绿色服务空间）的值，如低碳、高效能、环保、节约以及应用服务等。M表示不同时刻云模型的绿色度。
2绿色云计算的主要技术
作为云计算主要载体的云数据中心如何在执行相同任务，并保障QoS条件下减低数据中心的总能耗，是实现绿色云计算的关键。为此，近年来所采取的绿色计算技术，主要有以下六个方面。
2.1绿色云计算的建模、评价与标准建立
[文献4]开展了关于云计算环境中绿色服务级目标的分析、量化、建模及评价方面的研究，给出了绿云的定义，借鉴于服务级目标与绿色计算的相关理论，对实现绿色服务级目标的原理进行了分析，并提出一种多维能耗的M2EC模型。在一定程度上，实现了云计算环境中能耗与绿色服务级目标的均衡。
[文献5]提出一种云环境下的绿色计算模型，该模型从程序语言、绿色数据中心框架构件、绿色分布式文件系统策略的角度详细作了研究，提出绿色大数据节能处理机制和绿色节能模型。
而[文献6]针对云计算数据中心的能耗问题，提出一种精度较高的能耗模型来预测该中心的单台服务器的能耗状况。该模型结合多元线性回归和非线性回归的数学方法，分析总结了不同的参数和方法对服务器能耗的建模的影响，而提出较适合于云计算数据中心基础架构的服务器能耗模型。其中分别就基于性能计数器、系统使用率（CPU、内存、网络等使用率）的能耗建模。
2.2能耗模式软件控制及优化
[文献7]为解决云计算中的高能耗问题，在计算资源电压可动态调整的环境下，对于截止完成时间有要求的可降低并行任务，提出两种满足并行任务截止时间有要求的可降低并行任务执行能耗的调度方法Seef（一种能耗感知的、满足于截止时间的能耗优先调度算法），和Egsa（一种能耗遗传智能调度算法）。实践表明，在其相关的条件下，能有效降低并行任务的执行能耗，可以大幅度降低云计算的能耗开销。
[文献8]提出一种面向绿色云计算数据中心的动态数据聚集算法。算法分为数据聚集和节点聚集两个层次。在满足系统绿色服务质量时，按节点和数据在不同时段的使用情况，有效地聚集数据，实现原本随机布署的数据与节点的有序聚集与重新部署，使计算存储节点能够轮流运转。部署于云数据中心各区域的温控设备，可以更加精确地实施定点确定温度控制，从而达到既充分利用资源，满足用户的服务需求，同时又降低了系统具体的能耗目标。
[文献9]提出了采用动态定价策略的数据中心能耗成本的优化方案，从建立起服务价格与能耗成本统一的模型。文中采用了基于重载近似的大规模排队系统来对数据中心建模，根据不同数据中心之间的服务
需求量与电价差价，设计多数据中心间负载路由机制，以削减数据中心整体能耗成本。
2.3网络拓扑结构的优化策略
[文献10]提出一种通过低造价的可编程交换机来构建具有高连通性的非树状数据中心网络，并设计了可编程交换机与服务器2.5层代理协同工作，基于凸优化的虚拟网带宽控制管理机制，且提供了灵活的对资源虚拟化的技术支持，从而提高数据中心网络吞吐量与网络带宽分配机制的灵活性。
[文献11]提出一种数据中心系统的新型结构———雪花结构，该结构可满足数据中心的可扩展性。在保证交换机与服务器为较低的数量比（0.125～0.333）前提下，可在较短的平均路径内实现节点之间路由机制并具有较少的网络配置。
2.4计算机系统结构节能
通过研究新型高效节能的计算机体系结构，可以有效降低能耗。国内外在此项已作大量的研究，其节能技术已较成熟，如[文献12]构建Massclond云存储系统，并设计和应用了超低功耗云存储节点，以降低系统的功耗。[文献13]对处理器能耗优化进行了研究，提出与速度相关的能量消耗函数，并采用速度缩放策略，将能耗优化问题归结为最优任务的调度问题。[文献14]认为一个绿色数据中心应使用高效的能源供应与电压调整模式，来减少每个服务器的能耗，提高资源利用率，即利用动态电压调整（DynamicVoltageScalingDVS）技术在能耗与性能之间进行权衡。其目的在于短时间内通过应用程序在运行状态动态地调整处理器的工作电压，使处理器处于能满足性能需求的最少能耗状态。
2.5虚拟化技术的应用研究
虚拟化技术是云计算技术的一大优势，可以虚拟化资源管理，减少物理服务器的数量，以实现节能的目标。近年来，国内外的研究又注重在虚拟资源分配优化，虚拟机多目标放置以及云计算平台的虚拟化，以达到降低能耗的绿色服务目标。
[文献15]提出一种高效能的虚拟资源分配策略，将云计算中的虚拟资源分配问题建模为多目标优化模型，并使用多目标进化算法求解该模型。实验表明，该策略能生成绿色调度机制，可有效地减低运行数据中心所需能耗。
[文献16]建立一个虚拟机放置模型，并考虑了应用系统的性能要求、资源开销能耗、虚拟机迁移等因素，将资源控制与能源控制结合，形成了虚拟机放置能耗的优化模型，提出基于量子多目标进行虚拟机放置算法，并采用二级递归分解结构优化进行求解。
[文献17]将传统的能耗管理技术与虚拟化技术相结合，为云计算数据中心能耗管理优化提出新思路。文中从能耗的测量、建模以及管理实现机制、能耗管理优化算法四方面对虚拟化云计算平台能耗管理的最新研究成果进行介绍，指出虚拟化云计算平台能耗监控与测量的难点，提出虚拟机系统的整体能耗模型及服务器整合与在线迁移两种关键技术的能耗模型。
2.6采用新能源是实现绿色云计算的重要途径
近年来，国内外学术与工业界一直致力于云环境下实现绿色计算的深入研究，包括虚拟机、动态开关服务器、负载整合、能耗模式控制等，云模型中的能耗得到一定程度的改善。但能效的改善不完全等于实现了绿色计算，因为数据中心消耗的依然还是CO2排量的能源。按绿色和平组织认为，绿色IT=“高能效”+“新能源”。只有充分利用新能源（太阳能、风能、生物质能等），才是实现绿色云计算的根本途径。
[文献18]回答了如何在云计算数据中心上利用新能源。从绿色数据中心现状、评价标准、新能源产生电模型、预测机制、绿色数据中心能源配额规划等5个方面对新能源在云计算中心应用的最新研究成果来进行了分类。
三、绿云计算技术发展趋向
随着云计算技术高速发展，云计算带来了日益凸现的庞大能耗，基于云计算实现真正绿色计算的目标任重道远。以下是绿色计算技术发展若干值得关注的趋向。
3.1数据中心的绿色化
（1）虚拟化能耗模型的建立、标准化与评价问题；
（2）能耗感知的资源管理算法研究；
（3）迁移开销与状态切换开销的分析；
（4）在绿色性能目标条件，能耗目标函数优化技术；
（5）基于机器学习的能耗建模技术等。
3.2绿色云计算与城市计算、社会计算的结合
（1）城市交通云中，设计实用的城市交通双向推荐系统，为司机推荐最佳候客点，向乘客推荐最佳路段候车点，最大限度减少汽车油耗，达到环境绿化目标；
（2）城市检测云中，设计最优的地面检测站与群体感知检测布局，进行环境数据分析，实现城市环境综合管控，达到节能环保的效果。
3.3绿色能源应用研究
（1）多种能源的协调组合，如何提高太阳能、风能等
的产电效率；
（2）改进储能设备，克服新能源的不稳定性；
（3）数据中心能耗需求与新能源供应匹配；
（4）如何建立准确的智能可用新能源预测机制，以
加强数据中心作业调度的自适应性；
（5）新能源数据中心评价、标准问题等。
四、结语
实现绿色云计算是一个涉及到计算机系统、人、环境等多方面的因素的复杂问题。本文给出了绿色云计算的技术内涵，并从绿色云计算建模、评价、能耗的软件控制与优化，网络环境、虚拟化技术等6个方面介绍了绿色计算技术最新发展动态以及今后绿色计算发展若干值得关注的趋向。
参考文献
[1]曹洁，曾国荪.云环境下计算资源动态能耗感知的并行任务调度方法[J].计算机科学，2013，40（10）：39-44.
[2]徐小龙，杨庚等.面向绿色云计算中心的动态数据聚集算法[J].系统工程与电子技术，2012，34（9）：1923-1929.
[3]马玮骏，吴海佳，刘鹏.Masscloud云存储系统构架及可靠性机制[J].河海大学学报（自然科学版），2011，39（3）：348-352.
[4]许波，陈珂，朱兴统，彭志平.云计算中基于能耗优化的虚拟机多目标放置算法[J].小型微型计算机系统，2014，35（6）：1304-1308.
[5]LinC，TianY，YaoM，GreenNetworkandGreenEvaluation:Mechanism，ModelingandEvaluation[J].ChineseJournalofComputers，
2011，34（4）:593-612.
[6]张桂刚，李超，邢春晓.一种云环境下的绿色计算模型[J].小型微型计算机系统，2013，34（5）:1016-1020.
[7]罗亮，吴文俊，张飞.面向云计算数据中心的能耗建模方法[J].软件学报，2014，25（7）：1371-1387.